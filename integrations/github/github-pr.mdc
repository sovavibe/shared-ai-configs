---
description: GitHub Pull Request workflow
globs: ["**/*"]
alwaysApply: false
---

# GitHub PR Workflow

## Using gh CLI

All GitHub operations should use the `gh` CLI tool:

```bash
# View PR details
gh pr view <PR_NUMBER>

# Check PR status
gh pr checks <PR_NUMBER>

# View PR diff
gh pr diff <PR_NUMBER>

# List PRs
gh pr list

# Create PR
gh pr create --title "..." --body "..."
```

## PR Review Workflow

### 1. Gather Context

```bash
# Get PR info
gh pr view <PR_NUMBER>
gh pr diff <PR_NUMBER>

# Check CI status
gh pr checks <PR_NUMBER>
```

### 2. Review Process

```bash
# Run local quality checks first
npm run lint
npm run typecheck
npm run test -- --run

# Review the PR
gh pr review <PR_NUMBER>
```

### 3. Add Review Comments

```bash
# Add review comment
gh pr review <PR_NUMBER> --comment --body "Review comments here"

# Request changes
gh pr review <PR_NUMBER> --request-changes --body "Changes needed"

# Approve
gh pr review <PR_NUMBER> --approve
```

## Creating Pull Requests

```bash
gh pr create --title "type(scope): description" --body "$(cat <<'EOF'
## Summary
<1-3 bullet points>

## Test Plan
- [ ] How to test

## Checklist
- [ ] Tests added/updated
- [ ] Documentation updated

ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
EOF
)"
```

## PR Description Template

```markdown
## Summary
Brief description of changes

## Changes
- Change 1
- Change 2

## Test Plan
- [ ] How to verify

## Related Issues
Closes #ISSUE_NUMBER
```

## Priority Ranking for Review Issues

| Priority | Criteria | Action |
|----------|----------|--------|
| **P0 Blocker** | Security, data corruption, broken builds | MUST FIX |
| **P1 Critical** | Type safety, missing error handling | MUST FIX |
| **P2 Important** | Architecture, React hooks issues | Should fix |
| **P3 Nice to Have** | Style, docs, minor optimizations | Can defer |

## Working with Issues

```bash
# View issue
gh issue view <ISSUE_NUMBER>

# Create issue
gh issue create --title "..." --body "..."

# List issues
gh issue list

# Close issue via PR
# Add "Closes #ISSUE" to PR description
```

## Integration with Beads

When working on PR-related tasks:

```bash
# Check for PR-related work
bd list --status=open | grep -i "PR-"

# Update status
bd update <id> --status=in_progress
bd close <id> --reason="Fixed in PR-X"
```
